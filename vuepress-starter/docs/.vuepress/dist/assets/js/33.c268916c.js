(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{314:function(t,s,a){"use strict";a.r(s);var v=a(14),e=Object(v.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h3",{attrs:{id:"代码结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码结构"}},[t._v("#")]),t._v(" 代码结构")]),t._v(" "),s("h4",{attrs:{id:"解决方案约定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方案约定"}},[t._v("#")]),t._v(" 解决方案约定")]),t._v(" "),s("p",[t._v("单个服务在解决方案里面体现为5+1的模式")]),t._v(" "),s("p",[t._v("由于在大量服务存在的情况下,普通项目的3层结构已经无法支持该行为,需要细化到5层,分别为")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("1. 服务启动层\n2. 接口服务层\n3. 业务领域层\n4. 实体模型层\n5. 数据仓储层\n")])])]),s("p",[t._v("另外,由于各个服务之间存在公共代码,例如工具类等,所以需要一个公共库来进行解耦:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("1. 公共库\n")])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("公共库只能被引用,不可以主动引用任何接口服务层,因为这将会导致引用的接口在多个服务中一并出现")])]),t._v(" "),s("p",[t._v("关于服务的5层,可以根据情况适当的减少你的层数,比如服务接口较少或者不与任何其他业务存在连接的情况下,可以将所有的代码除了公共库之外都编写在服务启动层")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("例如: 文件上传服务\n")])])]),s("h4",{attrs:{id:"命名规范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命名规范"}},[t._v("#")]),t._v(" 命名规范")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("客户名.系统名.服务名.作用标识\n")])])]),s("p",[t._v("作用标识:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Class")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Entry")]),t._v(" "),s("td",[t._v("启动类库(Web API)")])]),t._v(" "),s("tr",[s("td",[t._v("Service")]),t._v(" "),s("td",[t._v("服务接口(类库)")])]),t._v(" "),s("tr",[s("td",[t._v("Model")]),t._v(" "),s("td",[t._v("实体模型(类库)")])]),t._v(" "),s("tr",[s("td",[t._v("Domain")]),t._v(" "),s("td",[t._v("业务领域(类库)")])]),t._v(" "),s("tr",[s("td",[t._v("Repository")]),t._v(" "),s("td",[t._v("数据仓储(类库)")])])])]),t._v(" "),s("p",[t._v("假如有个客户公司 [SANSHI] 需要做一个项目 [WUYE]")]),t._v(" "),s("p",[t._v("系统管理服务:"),s("br")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("SANSHI.WUYE.System.Entry-----启动WebApi\nSANSHI.WUYE.System.Service-----接口服务\nSANSHI.WUYE.System.Model-----实体模型\nSANSHI.WUYE.System.Domain-----业务领域\nSANSHI.WUYE.System.Repository-----数据仓储\n")])])]),s("p",[t._v("工作流服务:"),s("br")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("SANSHI.WUYE.Workflow.Entry-----启动WebApi\nSANSHI.WUYE.Workflow.Service-----接口服务\nSANSHI.WUYE.Workflow.Model-----实体模型\nSANSHI.WUYE.Workflow.Domain-----业务领域\nSANSHI.WUYE.Workflow.Repository-----数据仓储\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("对于多服务的场景下,你可能需要一个common类库来解耦各个服务之间的共性,\n我们可以定义一个公共类库")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("例如: SANSHI.WUYE.Common\n")])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);